# Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… - Linux/Mac (Bash)

## ðŸ“‹ ÐžÐ±Ð·Ð¾Ñ€

Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ JSONL Ñ„Ð°Ð¹Ð»Ñ‹ Ñ Ñ€ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ð¼Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð°Ð¹Ð¿Ð»Ð°Ð¹Ð½Ð°.

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

```bash
# ÐœÐ°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ (1GB ÐºÐ°Ð¶Ð´Ñ‹Ð¹, 2 Ñ„Ð°Ð¹Ð»Ð°) - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð·Ð° 1-2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹
make generate-data-small
```

### Ð”Ð»Ñ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

```bash
# Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ (16GB ÐºÐ°Ð¶Ð´Ñ‹Ð¹, 2 Ñ„Ð°Ð¹Ð»Ð°) - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð·Ð° 15-30 Ð¼Ð¸Ð½ÑƒÑ‚
make generate-data
```

### ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€

```bash
# Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ 3 Ñ„Ð°Ð¹Ð»Ð° Ð¿Ð¾ 20GB ÐºÐ°Ð¶Ð´Ñ‹Ð¹
make generate-data-custom SIZE=20 COUNT=3
```

## ðŸ“Š ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°

```bash
# Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð² (Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹, ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾Ðº)
make stats

# Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ (Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° JSON)
make validate-data

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð²
make check-data

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ñ„Ð°Ð¹Ð»Ð¾Ð²
ls -lh data/
```

## ðŸ“ Ð§Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾

Ð’ Ð¿Ð°Ð¿ÐºÐµ `data/` Ð¿Ð¾ÑÐ²ÑÑ‚ÑÑ:

1. **Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹** (JSONL):
   - `events_large_1.jsonl` - Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 16GB (Ð¸Ð»Ð¸ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€)
   - `events_large_2.jsonl` - Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 16GB (Ð¸Ð»Ð¸ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€)
   - Ð˜ Ð´Ñ€ÑƒÐ³Ð¸Ðµ ÐµÑÐ»Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾ `COUNT > 2`

2. **Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹** (CSV, Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ <1MB):
   - `device_info.csv` - ~100 ÑÑ‚Ñ€Ð¾Ðº
   - `firmware_info.csv` - ~50 ÑÑ‚Ñ€Ð¾Ðº

## âš™ï¸ ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸

### Ð§ÐµÑ€ÐµÐ· Makefile

```bash
# Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
make generate-data-small              # 1GB, 2 Ñ„Ð°Ð¹Ð»Ð° (Ð±Ñ‹ÑÑ‚Ñ€Ð¾)
make generate-data                    # 16GB, 2 Ñ„Ð°Ð¹Ð»Ð° (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)
make generate-data-custom SIZE=20 COUNT=3  # ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€

# Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ (Ð±ÐµÐ· Docker, Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ)
make generate-local-small             # 1GB, Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
make generate-local                   # 16GB, Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
```

### Ð§ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ Ð±Ð¾Ð»ÐµÐµ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ:

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
export DATA_FILE_SIZE_GB=16
export NUM_LARGE_FILES=2
export CORRUPTION_RATE=0.001          # 0.1% Ð¿Ð¾Ñ€Ñ‡ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ð¸ÑÐµÐ¹
export MISSING_DATA_RATE=0.05         # 5% Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ Ñ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ð¼Ð¸
export DUPLICATE_RATE=0.02            # 2% Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð²
export OUTLIER_RATE=0.01              # 1% outliers

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€
make generate-data
```

### ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ð·Ð°Ð¿ÑƒÑÐº Python ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°

```bash
cd data_generator

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip install -r requirements.txt

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€
DATA_FILE_SIZE_GB=1 \
NUM_LARGE_FILES=2 \
DATA_OUTPUT_DIR=../data \
python generate_data.py

# Ð˜Ð»Ð¸ Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸
DATA_FILE_SIZE_GB=16 \
NUM_LARGE_FILES=2 \
DATA_OUTPUT_DIR=../data \
CORRUPTION_RATE=0.001 \
MISSING_DATA_RATE=0.05 \
DUPLICATE_RATE=0.02 \
OUTLIER_RATE=0.01 \
python generate_data.py
```

## ðŸ” Ð¥Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…

Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ Ñ€ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ð¼Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…. Ð˜Ð·ÑƒÑ‡Ð¸Ñ‚Ðµ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚Ðµ ÐºÐ°ÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð² Ð´Ð°Ð½Ð½Ñ‹Ñ….

### Ð¡Ñ…ÐµÐ¼Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

```json
{
  "event_id": 123456,
  "device_id": "dev_1",
  "device_type": "sensor_A",
  "event_time": "2024-01-15T10:30:45.123456+00:00",
  "event_duration": 2.345,
  "location": {
    "latitude": 40.712776,
    "longitude": -74.005974,
    "city": "New York",
    "country": "United States"
  },
  "metadata": {
    "firmware_version": "3.2.15",
    "battery_level": 85,
    "signal_strength": -75
  }
}
```

## â±ï¸ Ð’Ñ€ÐµÐ¼Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸

- **1GB Ñ„Ð°Ð¹Ð»**: ~5-10 Ð¼Ð¸Ð½ÑƒÑ‚
- **16GB Ñ„Ð°Ð¹Ð»**: ~60-100 Ð¼Ð¸Ð½ÑƒÑ‚ (Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ Ð´Ð¸ÑÐºÐ°)
- **32GB Ñ„Ð°Ð¹Ð»**: ~120-200 Ð¼Ð¸Ð½ÑƒÑ‚

**ðŸ’¡ Ð¡Ð¾Ð²ÐµÑ‚:** Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `make generate-data-small` (1GB Ñ„Ð°Ð¹Ð»Ñ‹). Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»Ð¸Ñ‚ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð±ÐµÐ· Ð´Ð¾Ð»Ð³Ð¾Ð³Ð¾ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸.

## ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚ÐºÐ°

```bash
# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
make clean

# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÑ‘ Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Docker volumes
make clean-all
```

## â“ Troubleshooting

### ÐžÑˆÐ¸Ð±ÐºÐ°: "make: command not found"

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Make:
- **Ubuntu/Debian**: `sudo apt-get install build-essential`
- **macOS**: `xcode-select --install` (Ð¸Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· Homebrew: `brew install make`)
- **CentOS/RHEL**: `sudo yum install make`

### ÐžÑˆÐ¸Ð±ÐºÐ°: "Docker Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½"

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Docker:
- **Linux**: [Install Docker Engine](https://docs.docker.com/engine/install/)
- **macOS**: [Docker Desktop for Mac](https://www.docker.com/products/docker-desktop)

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑÑ Ð½Ð° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸ÑŽ Ñ‡ÐµÑ€ÐµÐ· Python ÐµÑÐ»Ð¸ Docker Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½.

### ÐžÑˆÐ¸Ð±ÐºÐ°: "Python Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½"

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Python 3.11+:
- **Linux**: `sudo apt-get install python3 python3-pip` (Ubuntu/Debian)
- **macOS**: `brew install python3` (Ñ‡ÐµÑ€ÐµÐ· Homebrew)

### Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¸Ð´Ñ‘Ñ‚ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾

- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `make generate-data-small` Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ (1GB Ñ„Ð°Ð¹Ð»Ñ‹)
- Ð˜Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `make generate-local-small` Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ (Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ)

### ÐÐµÑ‚ Ð¼ÐµÑÑ‚Ð° Ð½Ð° Ð´Ð¸ÑÐºÐµ

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾:

```bash
df -h
```

Ð”Ð»Ñ 16GB Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð½ÑƒÐ¶Ð½Ð¾ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ **35GB ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°**.

### Ð¤Ð°Ð¹Ð»Ñ‹ Ð½Ðµ Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð² Ð¿Ð°Ð¿ÐºÐµ data/

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:
1. Ð§Ñ‚Ð¾ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð°ÑÑŒ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº
2. Ð§Ñ‚Ð¾ Ð¿Ð°Ð¿ÐºÐ° `data/` ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚
3. Ð§Ñ‚Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¼ÐµÑÑ‚Ð° Ð½Ð° Ð´Ð¸ÑÐºÐµ
4. ÐŸÑ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð¿Ð°Ð¿ÐºÐµ: `ls -la data/`

Ð•ÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ Docker, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Docker volumes:

```bash
docker volume ls | grep data
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð°
ls -la data/

# Ð”Ð°Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð° Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
chmod 755 data/
```


---

**Ð£ÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸! ðŸš€**
